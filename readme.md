# ⚡ Xget 加速器增强优化版

<div align="center">

![Version](https://img.shields.io/badge/version-3.3-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![Tampermonkey](https://img.shields.io/badge/Tampermonkey-v4.0+-orange.svg)

一个功能强大的油猴脚本，自动加速 GitHub、GitLab、Hugging Face 等开发者平台的文件下载

[安装脚本](#-安装方法) • [功能特性](#-功能特性) • [使用说明](#-使用说明) • [常见问题](#-常见问题)

</div>

---

## 📖 项目简介

本项目基于 [Xget](https://github.com/xixu-me/xget) 加速服务，通过油猴脚本自动将下载链接转换为加速链接，大幅提升国内访问 GitHub 等平台的下载速度。

### 增强优化版特性

✨ 相比原版，本增强优化版添加了以下功能：

- 🎯 **多加速源支持** - 内置多个加速源，支持自定义添加，一键切换
- 🔄 **智能回退机制** - 非 GitHub 平台自动回退到全平台加速源
- 🎨 **精美 UI 界面** - 全新设计的设置面板、统计面板等
- 🛡️ **智能错误处理** - 自动检测服务器可用性，失败时降级到原始链接
- ⚡ **性能优化** - 节流防抖、事件委托，提升脚本运行效率
- 📊 **可视化统计** - 精美的统计面板，直观展示加速数据
- 🚫 **排除列表** - 支持正则表达式的高级排除规则
- 🔧 **高级设置** - 统一的设置面板，开关式配置

---

## 🌟 功能特性

### 支持的平台

| 平台 | 状态 | 说明 |
|------|------|------|
| GitHub | ✅ | Release、Archive、Raw 文件 |
| GitHub Gist | ✅ | Gist 文件下载 |
| GitLab | ✅ | Archive、附件下载 |
| Gitea | ✅ | Release、Archive |
| Codeberg | ✅ | 开源代码托管 |
| SourceForge | ✅ | 开源软件下载 |
| Hugging Face | ✅ | 模型文件下载 |
| Civitai | ✅ | AI 模型下载 |
| AOSP | ✅ | Android 源码 |

### 预设加速源

| 名称 | 域名 | 类型 | 平台支持 |
|------|------|------|----------|
| ⭐ Xget 官方 | xget.xi-xu.me | xget | 全平台 |
| LLKK | gh.llkk.cc | ghproxy | 仅 GitHub |
| Moeyy | github.moeyy.xyz | ghproxy | 仅 GitHub |

> 💡 公共加速源稳定性无法保证，强烈建议 [自建加速服务](#-自建加速服务)

### 核心功能

- 🚀 **一键加速** - 自动拦截下载链接，无需手动操作
- ⚙️ **多源切换** - 可视化选择加速源，支持自定义添加
- 📊 **可视化统计** - 精美的统计面板，展示成功率和下载数据
- 🔔 **智能通知** - 可自定义显示/隐藏通知消息
- 🧪 **测试工具** - 内置 URL 转换测试面板
- 🎯 **精确匹配** - 使用正则表达式精确识别下载链接
- 🛡️ **健康检查** - 自动检测加速服务器可用性
- 🚫 **排除规则** - 支持正则表达式的高级排除配置

---

## 🚀 安装方法

### 前置要求

安装浏览器扩展（任选其一）：
- [Tampermonkey](https://www.tampermonkey.net/) （推荐）
- [Violentmonkey](https://violentmonkey.github.io/)
- [Greasemonkey](https://www.greasespot.net/)

### 安装脚本

**方法一：GreasyFork 安装（推荐）**

👉 [从 GreasyFork 安装](https://greasyfork.org/zh-CN/scripts/559674-github-xget-%E4%B8%8B%E8%BD%BD%E5%8A%A0%E9%80%9F%E5%99%A8-%E5%A2%9E%E5%BC%BA%E4%BC%98%E5%8C%96%E7%89%88)

**方法二：直接安装**

👉 [安装脚本](../../raw/main/xget_accelerator.js)

**方法三：手动安装**

1. 复制 `xget_accelerator.js` 的内容
2. 打开 Tampermonkey 管理面板
3. 点击「添加新脚本」
4. 粘贴代码并保存

---

## 📝 使用说明

### 基本使用

1. 安装脚本后，访问支持的平台（如 GitHub）
2. 脚本会自动启用，右下角显示 `⚡ Xget 加速已启用` 指示器
3. 点击下载链接时，脚本会自动使用加速服务
4. 下载会在新标签页中打开

### 菜单功能

点击浏览器扩展图标 → Tampermonkey → Xget 加速器，可以看到以下选项：

| 菜单项 | 功能说明 |
|--------|----------|
| ✅/❌ 启用/禁用加速 | 快速开关加速功能 |
| ⚙️ 设置加速域名 | 打开加速源选择面板 |
| 📊 查看统计 | 打开可视化统计面板 |
| 🚫 管理排除列表 | 打开排除规则编辑器 |
| 🔍 检测服务器状态 | 手动检测当前加速源可用性 |
| 🧪 测试转换 | 打开 URL 转换测试面板 |
| 🔧 高级设置 | 打开高级设置面板 |

---

## 🎨 界面展示

### 加速源选择器

点击「⚙️ 设置加速域名」打开：

- 📡 预设加速源列表（带平台支持标签）
- 👤 自定义加速源管理
- 🔍 一键测试所有加速源可用性
- 🚀 自建部署链接引导

### 统计面板

点击「📊 查看统计」打开：

- 📈 总下载 / 成功 / 失败 数据卡片
- 📊 成功率进度条
- ⚙️ 当前配置信息
- 🔄 重置统计按钮

### 高级设置面板

点击「🔧 高级设置」打开：

- 🔁 重试次数调节（0-5）
- 🔔 显示通知开关
- 🔍 自动检测服务器开关
- 🐛 调试模式开关
- 💪 强力拦截模式开关

### 排除列表编辑器

点击「🚫 管理排除列表」打开：

- 📝 多行文本编辑器
- 💡 正则表达式支持提示
- 💾 保存 / 清空按钮

### 测试转换面板

点击「🧪 测试转换」打开：

- 🔗 URL 输入框
- 📋 转换结果展示
- ✅ 是否为下载链接判断

---

## 🔧 高级功能

### 自定义加速源

1. 打开「⚙️ 设置加速域名」
2. 点击「➕ 添加自定义加速源」
3. 输入名称、域名
4. 选择类型（xget / ghproxy）
5. 选择支持的平台范围

**加速源类型说明：**

| 类型 | URL 格式 | 说明 |
|------|----------|------|
| xget | `https://domain/gh/path` | Xget 格式，通常支持多平台 |
| ghproxy | `https://domain/https://github.com/...` | gh-proxy 格式，通常仅支持 GitHub |

### 排除规则

支持两种匹配方式：

```
# 字符串匹配
example.com
/releases/tag/

# 正则表达式
/\.md$/
/test\d+/i
```

### 彩蛋功能 🎨

在页面任意位置依次按下 `x` `g` `e` `t` 四个键，会显示精美的作者信息卡片！

---

## 🚀 自建加速服务

公共加速源稳定性无法保证，强烈建议使用 Cloudflare Workers 免费自建：

### 推荐方案

| 项目 | 平台支持 | 部署难度 | 链接 |
|------|----------|----------|------|
| ⭐ Xget | 全平台（30+） | ⭐⭐ | [GitHub](https://github.com/xixu-me/xget) |
| gh-proxy | 仅 GitHub | ⭐ | [GitHub](https://github.com/hunshcn/gh-proxy) |

### Xget 支持的平台

GitHub、GitLab、Gitea、Codeberg、SourceForge、Hugging Face、Civitai、npm、PyPI、Maven、Docker Hub 等 30+ 平台。

### 部署方式

Xget 支持一键部署到：
- Cloudflare Workers / Pages
- Vercel
- Netlify
- Deno Deploy
- Docker 自托管

详细部署教程请参考 [Xget 官方文档](https://github.com/xixu-me/xget#-deployment)。

---

## ❓ 常见问题

### 1. 为什么有些链接没有被加速？

可能的原因：
- 链接不符合加速规则（不是下载链接）
- 链接在排除列表中
- 加速功能已关闭
- 当前加速源不支持该平台

**解决方法**：使用「🧪 测试转换」功能检查链接是否会被转换

### 2. 加速失败怎么办？

如果看到 `⚠️ 加速服务暂不可用` 提示：
1. 使用「🔍 检测服务器状态」手动检测
2. 打开「⚙️ 设置加速域名」切换其他加速源
3. 点击「🔍 测试所有加速源」找到可用的
4. 考虑 [自建加速服务](#-自建加速服务)

### 3. 非 GitHub 平台（如 Hugging Face）无法加速？

大多数公共加速源只支持 GitHub。解决方案：
1. 使用「⭐ Xget 官方」加速源（支持全平台）
2. 自建 Xget 服务

### 4. 如何使用自己的加速服务？

1. 按照 [Xget](https://github.com/xixu-me/xget) 或 [gh-proxy](https://github.com/hunshcn/gh-proxy) 文档部署
2. 打开「⚙️ 设置加速域名」→「➕ 添加自定义加速源」
3. 输入你的域名和类型
4. 选择该加速源使用

### 5. 统计数据能清除吗？

可以，打开「📊 查看统计」面板，点击底部的「🔄 重置统计数据」按钮。

---

## 📜 更新日志

### v3.3 (2024-12-30)

**新增功能：**
- ✨ 多加速源支持，可视化选择界面
- 🎨 全新 UI 设计：统计面板、排除列表编辑器、测试面板、高级设置面板
- 🔄 智能回退机制：非 GitHub 平台自动回退到全平台加速源
- 🚀 自建部署引导，推荐 Xget 和 gh-proxy

**改进：**
- 📊 可视化统计面板，数据卡片 + 进度条
- 🔧 统一的高级设置面板，开关式配置
- 🚫 排除列表编辑器，支持正则表达式
- 🧪 URL 测试面板，直观展示转换结果
- 💫 平滑的弹窗动画效果

**精简：**
- 🗑️ 移除不稳定的公共加速源
- 🗑️ 合并重复的菜单项

### v3.2

- 初始增强版发布

---

## 🙏 致谢

- 感谢 [Xget](https://github.com/xixu-me/xget) 项目提供的加速服务
- 感谢所有贡献者和用户的支持

---

## 📄 许可证

本项目基于 [MIT License](mit_license.md) 开源。

---

## 💬 联系方式

- 🎨 **作者**：毕加索自画像
- 🐛 **问题反馈**：[Issues](../../issues)
- 💡 **功能建议**：[Discussions](../../discussions)

---

<div align="center">

**如果这个项目对你有帮助，欢迎给个 ⭐ Star！**

Made with ❤️ by 毕加索自画像

</div>
